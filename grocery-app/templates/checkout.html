{% extends "base.html" %}

{% block title %}Checkout - GroceryHub{% endblock %}

{% block content %}
<div class="container">
    <h2>ðŸ’³ Checkout</h2>
    
    {% if error %}
    <div class="alert alert-error">{{ error }}</div>
    {% endif %}
    
    <div style="display: grid; grid-template-columns: 1fr 350px; gap: 2rem;">
        <!-- Checkout Form -->
        <div>
            <form method="POST" id="checkout-form" onsubmit="return confirmCheckout()">
                <div class="card">
                    <h3>Delivery Address</h3>
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" required>
                    </div>
                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" required>
                    </div>
                    <div class="form-group">
                        <label>Address</label>
                        <textarea rows="3" required></textarea>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Payment Method</h3>
                    <div class="form-group">
                        <label>
                            <input type="radio" name="payment" value="card" checked> Credit/Debit Card
                        </label>
                    </div>
                    <div class="form-group">
                        <label>Card Holder Name</label>
                        <input type="text" required>
                    </div>
                    <div class="form-group">
                        <label>Card Number</label>
                        <input type="text" placeholder="1234 5678 9012 3456" required>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="form-group">
                            <label>Expiry Date</label>
                            <input type="text" placeholder="MM/YY" required>
                        </div>
                        <div class="form-group">
                            <label>CVV</label>
                            <input type="text" placeholder="123" required>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary btn-block">Place Order</button>
            </form>
        </div>
        
        <!-- Order Summary -->
        <div class="cart-summary">
            <h3>Order Summary</h3>
            {% for item in cart_items %}
            <div style="padding: 0.75rem 0; border-bottom: 1px solid var(--border); font-size: 0.875rem;">
                <div style="display: flex; justify-content: space-between;">
                    <span>{{ item.product.name }} x{{ item.quantity }}</span>
                    <span>â‚¹{{ "%.2f"|format(item.product.price * item.quantity) }}</span>
                </div>
            </div>
            {% endfor %}
            <div class="summary-row">
                <span>Subtotal:</span>
                <span>â‚¹{{ "%.2f"|format(total) }}</span>
            </div>
            <div class="summary-row">
                <span>Delivery:</span>
                <span>â‚¹0</span>
            </div>
            <div class="summary-row">
                <span><strong>Total:</strong></span>
                <span><strong>â‚¹{{ "%.2f"|format(total) }}</strong></span>
            </div>
        </div>
    </div>
</div>
{% endblock %}